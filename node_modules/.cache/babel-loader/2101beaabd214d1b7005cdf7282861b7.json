{"ast":null,"code":"import _regeneratorRuntime from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{loginUser}from'../api';import{Button,TextField}from'@mui/material';import{Link}from'react-router-dom';import'./register';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var setToken=_ref.setToken,navigate=_ref.navigate;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loginUser(username,password);case 2:results=_context.sent;if(results.success){setToken(results.data.token);window.localStorage.setItem('token',results.data.token);navigate('/profile');}else{console.log(results.error.message);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"login\",onSubmit:function onSubmit(event){event.preventDefault();handleSubmit();},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(TextField,{style:{margin:'1rem'},label:\"Enter Username\",onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{style:{margin:'1rem'},label:\"Enter Password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(Button,{style:{height:'3.5rem',margin:'1rem'},variant:\"contained\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(Button,{style:{height:'3rem',margin:'1rem'},variant:\"text\",type:\"submit\",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none'},to:\"/register\",children:\"Register\"})})]});};export default Login;","map":{"version":3,"names":["React","useState","loginUser","Button","TextField","Link","Login","setToken","navigate","username","setUsername","password","setPassword","handleSubmit","results","success","data","token","window","localStorage","setItem","console","log","error","message","event","preventDefault","margin","target","value","height","textDecoration"],"sources":["/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/src/components/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { loginUser } from '../api';\nimport { Button, TextField } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport './register';\n\nconst Login = ({ setToken, navigate }) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = async () => {\n        const results = await loginUser(username, password);\n        if (results.success) {\n            setToken(results.data.token)\n            window.localStorage.setItem('token', results.data.token);\n            navigate('/profile');\n        } else {\n            console.log(results.error.message)\n        }\n    };\n\n    return (\n        <form className='login'\n            onSubmit={(event) => {\n                event.preventDefault();\n                handleSubmit();\n            }}>\n            <h1>Login</h1>\n            <TextField\n                style={{ margin: '1rem' }}\n                label='Enter Username'\n                onChange={(event) => setUsername(event.target.value)}\n            />\n            <TextField\n                style={{ margin: '1rem' }}\n                label='Enter Password'\n                onChange={(event) => setPassword(event.target.value)}\n            />\n            <Button\n                style={{\n                    height: '3.5rem',\n                    margin: '1rem'\n                }}\n                variant='contained'\n                type='submit'>\n                Login\n            </Button>\n            <Button\n                style={{\n                    height: '3rem',\n                    margin: '1rem'\n                }}\n                variant='text'\n                type='submit'>\n                <Link\n                    style={{ textDecoration: 'none' }}\n                    to='/register'>Register\n                </Link>\n            </Button>\n        </form>\n    )\n}\n\nexport default Login;"],"mappings":"ieAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,QAA1B,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,eAAlC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,YAAP,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAA4B,IAAzBC,SAAyB,MAAzBA,QAAyB,CAAfC,QAAe,MAAfA,QAAe,CACtC,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,aAAY,6FAAG,uKACKX,UAAS,CAACO,QAAD,CAAWE,QAAX,CADd,QACXG,OADW,eAEjB,GAAIA,OAAO,CAACC,OAAZ,CAAqB,CACjBR,QAAQ,CAACO,OAAO,CAACE,IAAR,CAAaC,KAAd,CAAR,CACAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqCN,OAAO,CAACE,IAAR,CAAaC,KAAlD,EACAT,QAAQ,CAAC,UAAD,CAAR,CACH,CAJD,IAIO,CACHa,OAAO,CAACC,GAAR,CAAYR,OAAO,CAACS,KAAR,CAAcC,OAA1B,EACH,CARgB,sDAAH,kBAAZX,aAAY,2CAAlB,CAWA,mBACI,cAAM,SAAS,CAAC,OAAhB,CACI,QAAQ,CAAE,kBAACY,KAAD,CAAW,CACjBA,KAAK,CAACC,cAAN,GACAb,YAAY,GACf,CAJL,wBAKI,6BALJ,cAMI,KAAC,SAAD,EACI,KAAK,CAAE,CAAEc,MAAM,CAAE,MAAV,CADX,CAEI,KAAK,CAAC,gBAFV,CAGI,QAAQ,CAAE,kBAACF,KAAD,QAAWf,YAAW,CAACe,KAAK,CAACG,MAAN,CAAaC,KAAd,CAAtB,EAHd,EANJ,cAWI,KAAC,SAAD,EACI,KAAK,CAAE,CAAEF,MAAM,CAAE,MAAV,CADX,CAEI,KAAK,CAAC,gBAFV,CAGI,QAAQ,CAAE,kBAACF,KAAD,QAAWb,YAAW,CAACa,KAAK,CAACG,MAAN,CAAaC,KAAd,CAAtB,EAHd,EAXJ,cAgBI,KAAC,MAAD,EACI,KAAK,CAAE,CACHC,MAAM,CAAE,QADL,CAEHH,MAAM,CAAE,MAFL,CADX,CAKI,OAAO,CAAC,WALZ,CAMI,IAAI,CAAC,QANT,mBAhBJ,cAyBI,KAAC,MAAD,EACI,KAAK,CAAE,CACHG,MAAM,CAAE,MADL,CAEHH,MAAM,CAAE,MAFL,CADX,CAKI,OAAO,CAAC,MALZ,CAMI,IAAI,CAAC,QANT,uBAOI,KAAC,IAAD,EACI,KAAK,CAAE,CAAEI,cAAc,CAAE,MAAlB,CADX,CAEI,EAAE,CAAC,WAFP,sBAPJ,EAzBJ,GADJ,CAwCH,CAvDD,CAyDA,cAAezB,MAAf"},"metadata":{},"sourceType":"module"}