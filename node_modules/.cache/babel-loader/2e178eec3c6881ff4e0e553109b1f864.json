{"ast":null,"code":"var _jsxFileName = \"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/src/components/singlePostView.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { createMessage, deletePost } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SendMessage = _ref => {\n  _s();\n\n  let {\n    postID,\n    token,\n    navigate\n  } = _ref;\n  const [message, setMessage] = useState({\n    content: ''\n  }); //we need 3 things to make this request\n  //Post-id, token, message object containing the content of the message\n\n  async function addMessage() {\n    await createMessage({\n      postID,\n      message,\n      token\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"messageForm\",\n    className: \"messageForm\",\n    onSubmit: event => {\n      event.preventDefault();\n      addMessage();\n      navigate('/post');\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"messageInput\",\n      type: \"text\",\n      placeholder: \"Enter Message\",\n      onChange: event => setMessage({\n        content: event.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"messageSubmit\",\n      onClick: () => {\n        addMessage();\n        navigate('/posts');\n      },\n      children: \"Send Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SendMessage, \"zHW6lT0cCxeljI9xD7SfiFFsqis=\");\n\n_c = SendMessage;\n\nconst SinglePostView = _ref2 => {\n  _s2();\n\n  let {\n    posts,\n    token,\n    getMe,\n    navigate\n  } = _ref2;\n  const [activateMessage, setActivateMessage] = useState(false);\n  const {\n    postID\n  } = useParams();\n\n  if (posts.length) {\n    const [currentPost] = posts.filter(posts => post._id === postID);\n    const {\n      title,\n      description,\n      location,\n      price,\n      willDeliver,\n      isAuthor\n    } = currentPost;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Description: \", description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: \", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Location: \", location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Will Deliver: \", willDeliver]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), isAuthor ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/posts\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/posts\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deletePost(token, postID),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/posts\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), token && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActivateMessage(!activateMessage),\n            children: \"Message User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), activateMessage && /*#__PURE__*/_jsxDEV(SendMessage, {\n            token: token,\n            postID: postID,\n            navigate: navigate,\n            getMe: getMe\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Waiting for Posts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s2(SinglePostView, \"SaCcpfA+IAwaFepjA28zt0MOekY=\", false, function () {\n  return [useParams];\n});\n\n_c2 = SinglePostView;\nexport default SinglePostView;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SendMessage\");\n$RefreshReg$(_c2, \"SinglePostView\");","map":{"version":3,"names":["React","useState","useParams","Link","createMessage","deletePost","SendMessage","postID","token","navigate","message","setMessage","content","addMessage","event","preventDefault","target","value","SinglePostView","posts","getMe","activateMessage","setActivateMessage","length","currentPost","filter","post","_id","title","description","location","price","willDeliver","isAuthor"],"sources":["/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/src/components/singlePostView.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { createMessage, deletePost } from '../api';\n\nconst SendMessage = ({ postID, token, navigate }) => {\n    const [message, setMessage] = useState({content: ''});\n    //we need 3 things to make this request\n    //Post-id, token, message object containing the content of the message\n    async function addMessage() {\n        await createMessage({postID, message, token});\n    }\n    return (\n        <form\n            id='messageForm'\n            className='messageForm'\n            onSubmit={ (event) => {\n            event.preventDefault();\n            addMessage();\n            navigate('/post')\n        }}>\n            <input\n                className='messageInput'\n                type='text'\n                placeholder='Enter Message'\n                onChange={ (event) => setMessage({content: event.target.value}) }\n            />\n            <button type='submit' \n            className='messageSubmit'\n            onClick={() =>{\n                addMessage();\n                navigate('/posts')\n                }}>Send Message</button>\n        </form>\n    )\n}\n\nconst SinglePostView = ({ posts, token, getMe, navigate }) => {\n    const [activateMessage, setActivateMessage] = useState(false);\n\n    const { postID } = useParams();\n    \n    if (posts.length) {\n    const [currentPost] = posts.filter(posts => post._id === postID);\n    const {title, description, location, price, willDeliver, isAuthor} = currentPost;\n\n    return (\n        <div>\n            <div>\n                <h3>{title}</h3>\n                <p>Description: {description}</p>\n                <p>Price: {price}</p>\n                <p>Location: {location}</p>\n                <p>Will Deliver: {willDeliver}</p>\n            </div>\n            {\n                isAuthor ? (\n                    <>\n                    <Link to='/posts'>\n                        <button>\n                            Back\n                        </button>\n                    </Link>\n                    <Link to='/posts'>\n                        <button \n                        onClick={() => deletePost(token, postID)}>\n                            Delete\n                        </button>\n                    </Link>\n                    </>\n                ) : (\n                    <>\n                    <Link to='/posts'>\n                        <button>\n                            Back\n                        </button>\n                    </Link>\n                    { token &&\n                    <>\n                    <button \n                    onClick={() => setActivateMessage(!activateMessage)}>\n                        Message User\n                    </button>\n                    {\n                        activateMessage && \n                        <SendMessage token={token} \n                        postID={postID} \n                        navigate={navigate} \n                        getMe={getMe} />\n                    }\n                    </>\n                    }\n                    </>\n                )\n            }\n        </div>\n    )\n} else {\n    return (\n        <h2>Waiting for Posts...</h2>\n    )\n}\n}\n\nexport default SinglePostView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}