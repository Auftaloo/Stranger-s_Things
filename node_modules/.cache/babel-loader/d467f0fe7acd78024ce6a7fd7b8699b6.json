{"ast":null,"code":"import _regeneratorRuntime from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import{updatePost,deletePost}from'../api';import{Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var posts=_ref.posts,token=_ref.token,navigate=_ref.navigate,fetchPosts=_ref.fetchPosts;var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];var title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(description),_useState4=_slicedToArray(_useState3,2),newDescription=_useState4[0],setNewDesc=_useState4[1];var _useState5=useState(location),_useState6=_slicedToArray(_useState5,2),newLocation=_useState6[0],setNewLocation=_useState6[1];var _useState7=useState(price),_useState8=_slicedToArray(_useState7,2),newPrice=_useState8[0],setNewPrice=_useState8[1];var _useState9=useState(willDeliver),_useState10=_slicedToArray(_useState9,2),newWillDeliver=_useState10[0],setNewWillDeliver=_useState10[1];function editPost(){return _editPost.apply(this,arguments);}function _editPost(){_editPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var updatedPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updatedPost={token:token,title:newTitle,description:newDescription,location:newLocation,price:newPrice,willDeliver:newWillDeliver,_id:postID};_context.next=3;return updatePost(updatedPost);case 3:navigate('/posts');fetchPosts();case 5:case\"end\":return _context.stop();}}},_callee);}));return _editPost.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(ev){ev.preventDefault();editPost();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:title,onChange:function onChange(ev){return setNewTitle(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:description,onChange:function onChange(ev){return setNewDesc(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:location,onChange:function onChange(ev){return setNewLocation(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:price,onChange:function onChange(ev){return setNewPrice(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newWillDeliver,onChange:function onChange(ev){return setNewWillDeliver(ev.target.checked);}}),/*#__PURE__*/_jsx(Button,{style:{height:'3rem',margin:'1rem'},variant:\"contained\",type:\"submit\",onClick:function onClick(){editPost();},children:\"Edit Post\"}),/*#__PURE__*/_jsx(Button,{style:{height:'3rem',margin:'1rem'},variant:\"outlined\",type:\"submit\",onClick:function onClick(){deletePost(token,postID);},children:\"Delete Post\"})]});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","updatePost","deletePost","Button","EditPost","posts","token","navigate","fetchPosts","postID","filter","post","_id","currentPost","title","description","location","price","willDeliver","newTitle","setNewTitle","newDescription","setNewDesc","newLocation","setNewLocation","newPrice","setNewPrice","newWillDeliver","setNewWillDeliver","editPost","updatedPost","ev","preventDefault","target","value","checked","height","margin"],"sources":["/Users/stephaniepierce/Documents/Course_Work/week_13/Strangers_Things/src/components/editPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { updatePost, deletePost } from '../api';\nimport { Button } from '@mui/material';\n\nconst EditPost = ({ posts, token, navigate, fetchPosts }) => {\n    const { postID } = useParams();\n\n    const [currentPost] = posts.filter(post => post._id === postID);\n\n    const { title, description, location, price, willDeliver } = currentPost;\n\n    const [newTitle, setNewTitle] = useState(title);\n    const [newDescription, setNewDesc] = useState(description);\n    const [newLocation, setNewLocation] = useState(location);\n    const [newPrice, setNewPrice] = useState(price);\n    const [newWillDeliver, setNewWillDeliver] = useState(willDeliver);\n\n    async function editPost() {\n        const updatedPost = {\n            token: token,\n            title: newTitle,\n            description: newDescription,\n            location: newLocation,\n            price: newPrice,\n            willDeliver: newWillDeliver,\n            _id: postID\n        }\n        await updatePost(updatedPost)\n        navigate('/posts')\n        fetchPosts()\n    }\n\n    return (\n        <form onSubmit={(ev) => {\n            ev.preventDefault();\n            editPost();\n        }}>\n            <input\n                type='text'\n                placeholder={title}\n                onChange={(ev) => setNewTitle(ev.target.value)}\n            />\n            <input\n                type='text'\n                placeholder={description}\n                onChange={(ev) => setNewDesc(ev.target.value)}\n            />\n            <input\n                type='text'\n                placeholder={location}\n                onChange={(ev) => setNewLocation(ev.target.value)}\n            />\n            <input\n                type='text'\n                placeholder={price}\n                onChange={(ev) => setNewPrice(ev.target.value)}\n            />\n            <input\n                type='checkbox'\n                checked={newWillDeliver}\n                onChange={(ev) => setNewWillDeliver(ev.target.checked)}\n            />\n            <Button\n                style={{\n                    height: '3rem',\n                    margin: '1rem'\n                }}\n                variant='contained'\n                type='submit'\n                onClick={() => {\n                    editPost();\n                }}>Edit Post</Button>\n            <Button\n                style={{\n                    height: '3rem',\n                    margin: '1rem'\n                }}\n                variant='outlined'\n                type='submit'\n                onClick={() => {\n                    deletePost(token, postID);\n                }}>Delete Post</Button>\n        </form>\n    )\n}\n\nexport default EditPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}